@model Epam_MVC4.Models.HomeViewModel

@{
    ViewBag.Title = "Epam";
}


@using (Ajax.BeginForm("GetQuotes", "Home",
                new AjaxOptions
                {
                    HttpMethod = "Post",
                    InsertionMode = InsertionMode.Replace,
                    UpdateTargetId = "data-table"
                },
                new { @id = "get-quotes" , @class="form-horizontal"}))
{
    <div class="form-group form-inline form-group-sm">
        <div class="col-xs-3">
            <label for="Provider">Get from:</label>
            @Html.DropDownList("Provider", new SelectList(Model.DataProviders.Select(x => x.Name).Distinct().ToList()),
                    new { @class = "form-control col-md-2" })
        </div>
        <div class="col-xs-7">
            <label for="DateGroup">Date range: </label><br/>
            @*<div id="DateGroup" name="DateGroup" class="form-inline">*@
            @Html.EditorFor(x => Model.StartDate, new { htmlAttributes = new { @class = "form-control" } }) <span><b>  -  </b></span>
            @Html.EditorFor(x => Model.EndDate, new { htmlAttributes = new { @class = "form-control" } })
            @*</div>*@
        </div>
        <div class="col-xs-1">
            <label for="PerPage">Size:</label>
            @Html.EnumDropDownListFor(x => Model.PerPage, new { name = "PerPage", @id = "PerPage", @class = "form-control" })
        </div>

    </div>
    <div class="form-group form-inline form-group-lg">
        <label for="Query">Query:</label>
        @Html.EditorFor(m => Model.Query, new { htmlAttributes = new { placeholder = "Input query", @class = "form-control" } })
        <input type="submit" name="search" value="Search" />
    </div>
}

<div id="data-table" class="container">
    @Html.Partial("_Table", Model.Table)
</div>
